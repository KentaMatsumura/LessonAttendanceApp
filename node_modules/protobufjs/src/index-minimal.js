"use strict";
var protobuf = exports;

/**
 * Build type, one of `"full"`, `"light"` or `"minimal"`.
 * @name build
 * @type {string}
 * @const
 */
protobuf.build = "minimal";

// Serialization
protobuf.Writer       = require("protobufjs/src/writer");
protobuf.BufferWriter = require("protobufjs/src/writer_buffer");
protobuf.Reader       = require("protobufjs/src/reader");
protobuf.BufferReader = require("protobufjs/src/reader_buffer");

// Utility
protobuf.util         = require("protobufjs/src/util/minimal");
protobuf.rpc          = require("protobufjs/src/rpc");
protobuf.roots        = require("protobufjs/src/roots");
protobuf.configure    = configure;

/* istanbul ignore next */
/**
 * Reconfigures the library according to the environment.
 * @returns {undefined}
 */
function configure() {
    protobuf.Reader._configure(protobuf.BufferReader);
    protobuf.util._configure();
}

// Set up buffer utility according to the environment
protobuf.Writer._configure(protobuf.BufferWriter);
configure();
